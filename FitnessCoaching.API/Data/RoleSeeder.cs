using Microsoft.AspNetCore.Identity;

namespace FitnessCoaching.API.Data;

public class RoleSeeder
{
	public static async Task SeedRolesAsync(IServiceProvider serviceProvider)
	{
		var roleManager = serviceProvider.GetRequiredService<RoleManager<IdentityRole>>();
		string[] roleNames = { "Admin", "Coach", "User" };
		foreach (var roleName in roleNames)
		{
			if (!await roleManager.RoleExistsAsync(roleName))
			{
				await roleManager.CreateAsync(new IdentityRole(roleName));
			}
		}
	}
}
